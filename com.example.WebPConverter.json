{
  "app-id": "com.example.WebPConverter",
  "runtime": "org.gnome.Platform",
  "runtime-version": "45",
  "sdk": "org.gnome.Sdk",
  "command": "webp_converter.py",
  "finish-args": [
    "--share=network",
    "--share=ipc",
    "--socket=x11",
    "--socket=wayland",
    "--device=dri",
    "--filesystem=home",
    "--filesystem=xdg-config/gtk-3.0:ro",
    "--filesystem=xdg-config/gtk-4.0:ro",
    "--talk-name=org.freedesktop.portal.Desktop",
    "--own-name=com.example.WebPConverter"
  ],
  "extensions": {
    "org.gtk.Gtk3theme": {
      "version": "3.22"
    },
    "org.gtk.Gtk4theme": {
      "version": "4.0"
    }
  },
  "modules": [
    {
      "name": "libwebp",
      "config-opts": [
        "--disable-static",
        "--enable-libwebpmux",
        "--enable-libwebpdemux",
        "--enable-libwebpdecoder"
      ],
      "buildsystem": "autotools",
      "sources": [
        {
          "type": "archive",
          "url": "https://storage.googleapis.com/downloads.webmproject.org/releases/webp/libwebp-1.3.1.tar.gz",
          "sha256": "b3779627c2dfd31e3d8c4485962c2efe17785ef975e2be5c8c0c9e6cd3c4ef66"
        }
      ]
    },
    {
      "name": "webp_converter",
      "buildsystem": "simple",
      "build-commands": [
        "install -D webp_converter.py /app/bin/webp_converter.py",
        "install -D data/icons/webp_converter.svg /app/share/icons/hicolor/scalable/apps/com.example.WebPConverter.svg",
        "install -D desktop/webp_converter.desktop /app/share/applications/com.example.WebPConverter.desktop"
      ],
      "sources": [
        {
          "type": "dir",
          "path": "."
        }
      ]
    }
  ]
}

